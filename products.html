<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&family=Roboto+Condensed:ital,wght@1,700&display=swap"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&family=Roboto&display=swap"
      rel="stylesheet"
    />

    <title>Products</title>
    <link rel="icon" href="media/tab-icon.png" />
  </head>

  <body>
    <h1>Products</h1>
    <h2>
      Browse our supply of first-class products for everything stealth related
    </h2>
    <div class="all-products-container" id="main-product-container"></div>

    <script>
      "use strict";

      // builds html code for a given product
      function buildProductHTML(product) {
        let element = "";
        element += '<div class="product-container" ';
        element += 'id="' + product.name.replaceAll(" ", "-") + '">';
        element += '<img src="' + product.img_src + '" />';
        element += '<div class="product-text">';
        element += "<strong>" + product.name + "</strong><br />";
        element += product.description + "<br />";
        element += "<em>" + product.category + "</em>";
        element += "</div></div>";
        return element;
      }

      $(document).ready(function () {
        $.get("products.json", function (data) {
          let products = data.products;

          // display product list on the page
          products.forEach(function (product) {
            $("#main-product-container").append(buildProductHTML(product));
            $("#" + product.name.replaceAll(" ", "-")).hide();
            $("#" + product.name.replaceAll(" ", "-")).slideDown(600, "swing");
          });
        });
      });
    </script>
    <script src="script.js"></script>
  </body>
</html>
